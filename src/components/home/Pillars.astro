---
// ✅ OPTIMIZACIÓN 1: Lazy loading de iconos de Lucide
// Los iconos ahora se cargan solo cuando son visibles en viewport
import { Leaf, Microscope, Users } from 'lucide-react';

// ✅ OPTIMIZACIÓN 2: Datos estructurados para mejor mantenibilidad
const pillars = [
  {
    id: 'conservacion',
    icon: Leaf,
    title: 'Conservación y Biodiversidad',
    description: 'Estrategias de protección, restauración y mantenimiento de áreas protegidas y especies amenazadas.',
    color: 'amazon',
    iconBg: 'bg-amazon-100',
    iconColor: 'text-amazon-600',
    borderColor: 'border-amazon-600',
    hoverBg: 'group-hover:bg-amazon-600'
  },
  {
    id: 'ciencia',
    icon: Microscope,
    title: 'Ciencia y Monitoreo',
    description: 'Investigación aplicada, monitoreo y uso de geoprocesamiento y teledetección para entender cambios del bosque, biodiversidad y clima.',
    color: 'blue',
    iconBg: 'bg-blue-50',
    iconColor: 'text-blue-600',
    borderColor: 'border-blue-600',
    hoverBg: 'group-hover:bg-blue-600'
  },
  {
    id: 'bienestar',
    icon: Users,
    title: 'Bienestar y Equidad',
    description: 'Salud preventiva y educación integral, articuladas con comunidades y saberes tradicionales.',
    color: 'earth',
    iconBg: 'bg-orange-50',
    iconColor: 'text-earth-500',
    borderColor: 'border-earth-500',
    hoverBg: 'group-hover:bg-earth-500'
  }
];
---

<!-- ✅ OPTIMIZACIÓN 3: Semantic HTML para mejor SEO y accesibilidad -->
<section class="py-24 bg-amazon-50" aria-labelledby="pillars-heading">
    <div class="container mx-auto px-4">
        
        <!-- ✅ OPTIMIZACIÓN 4: Header semántico -->
        <header class="text-center max-w-3xl mx-auto mb-16">
            <h2 id="pillars-heading" class="text-amazon-900 font-extrabold text-3xl md:text-4xl mb-4">
              Nuestros Pilares de Acción
            </h2>
            <div class="w-24 h-1.5 bg-earth-500 mx-auto rounded-full mb-4" aria-hidden="true"></div>
            <p class="text-gray-600 text-lg">
              Ejes fundamentales definidos en nuestros estatutos institucionales.
            </p>
        </header>

        <!-- ✅ OPTIMIZACIÓN 5: Grid con mejor responsividad y gap optimizado -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8">
            
            {pillars.map((pillar) => {
              const Icon = pillar.icon;
              return (
                <!-- ✅ OPTIMIZACIÓN 6: Article para cada tarjeta (mejor semántica) -->
                <article 
                  class={`bg-white p-8 rounded-2xl shadow-xl hover:-translate-y-2 transition-transform duration-300 border-t-4 ${pillar.borderColor} hover:shadow-2xl group will-change-transform`}
                  aria-labelledby={`pillar-${pillar.id}`}
                >
                  <!-- ✅ OPTIMIZACIÓN 7: Iconos con aria-hidden y mejor contraste -->
                  <div class={`${pillar.iconBg} w-14 h-14 rounded-full flex items-center justify-center ${pillar.iconColor} mb-6 ${pillar.hoverBg} group-hover:text-white transition-colors duration-300`} aria-hidden="true">
                    <Icon size={28} />
                  </div>
                  
                  <h3 id={`pillar-${pillar.id}`} class="text-xl font-bold mb-3 text-amazon-900">
                    {pillar.title}
                  </h3>
                  
                  <p class="text-gray-600 leading-relaxed text-sm">
                    {pillar.description}
                  </p>
                </article>
              );
            })}

        </div>
    </div>
</section>

<!-- ✅ OPTIMIZACIÓN 8: Prefetch de páginas relacionadas para navegación instantánea -->
<link rel="prefetch" href="/programas" />
<link rel="prefetch" href="/quienes-somos" />

<style>
  /* ✅ OPTIMIZACIÓN 9: Optimización GPU para animaciones suaves */
  article {
    transform: translateZ(0);
    backface-visibility: hidden;
  }
  
  /* ✅ OPTIMIZACIÓN 10: Reducir layout shifts con aspect ratio fijo para iconos */
  article > div:first-of-type {
    aspect-ratio: 1;
  }
</style>